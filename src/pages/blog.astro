---
import { getCollection } from 'astro:content';
import MainLayout from '../layouts/MainLayout.astro';
const posts = await getCollection('blog');
---

<MainLayout>
    <!-- Main container with responsive spacing - same as index.astro -->
    <section class="max-w-[65ch] 
                   mx-1 sm:mx-auto 
                   px-4 sm:px-8 
                   py-8 sm:py-12 lg:py-16 
                   space-y-12 sm:space-y-16 lg:space-y-24">

        <!-- Blog Posts Section -->
        <div>
            <h1 class="text-2xl sm:text-3xl lg:text-4xl 
                       font-bold 
                       mb-6 sm:mb-8 
                       tracking-tight">
                Blog Posts
            </h1>
        
            <ul class="space-y-6 sm:space-y-8">
                {posts.map(post => (
                    <li>
                        <a href={`/blog/${post.slug}`} class="block group">

                            <h2 class="text-lg sm:text-xl 
                                       font-semibold 
                                       text-gray-900 
                                       group-hover:underline">
                                {post.data.title}
                            </h2>
                            <p class="text-sm sm:text-base 
                                     text-gray-500 
                                     mt-1 sm:mt-2">
                                {new Date(post.data.pubDate).toLocaleDateString('en-US', {
                                    year: 'numeric',
                                    month: 'long',
                                    day: 'numeric'
                                })}
                            </p>
                        </a>
                    </li>
                ))}
            </ul>
        </div>

        <!-- Empty sections to match homepage height for smooth transitions -->
        <div class="opacity-0 pointer-events-none" aria-hidden="true">
            <h2 class="text-2xl sm:text-3xl font-bold mb-3 sm:mb-4">Hidden Section</h2>
            <p class="text-sm sm:text-base lg:text-[1.05rem] text-gray-700 leading-6 sm:leading-7 lg:leading-8">
                This is a hidden section to maintain consistent page height for smooth view transitions.
            </p>
        </div>

        <div class="opacity-0 pointer-events-none" aria-hidden="true">
            <h2 class="text-2xl sm:text-3xl font-bold mb-3 sm:mb-4">Hidden Section</h2>
            <p class="text-sm sm:text-base lg:text-[1.05rem] text-gray-700 leading-6 sm:leading-7 lg:leading-8">
                This is another hidden section to maintain consistent page height for smooth view transitions.
            </p>
        </div>

    </section>
</MainLayout>