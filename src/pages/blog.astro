---
import { getCollection } from 'astro:content';
import MainLayout from '../layouts/MainLayout.astro';
const posts = await getCollection('blog');
---

<MainLayout>
    <section class="max-w-2xl mx-auto px-4 py-12">

        <h1 class="text-4xl font-bold mb-6 tracking-tight">Blog Posts</h1>
    
        <ul class="space-y-6">
            {posts.map(post => (
                <li>
                    <a href={`/blog/${post.slug}`} class="block group">

                        <h2 class="text-xl font-semibold text=gray-900 group-hover:underline">
                            {post.data.title}
                        </h2>
                        <p class="text-sm text-gray-500 mt-1">
                            {new Date(post.data.pubDate).toLocaleDateString('en-US', {
                                year: 'numeric',
                                month: 'long',
                                day: 'numeric'
                            })}
                        </p>
                    </a>
                </li>
            ))}
        </ul>

    </section>
</MainLayout>